



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Developer documentation">
      
      
        <link rel="canonical" href="https://www.assaabloy.com/en/com/solutions/technology-platforms/seos/api-changes/migrating-5-6/index.html">
      
      
        <meta name="author" content="ASSA ABLOY Mobile Services">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.verifyOtp.none" content="No matching documents">
      
        <meta name="lang:search.verifyOtp.one" content="1 matching document">
      
        <meta name="lang:search.verifyOtp.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>5.x to 6.0 - Seos Mobile SDK for Android</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#introduction" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.assaabloy.com/en/com/solutions/technology-platforms/seos/" title="Seos Mobile SDK for Android" class="md-header-nav__button md-logo">
          
            <i class="md-icon">android</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Seos Mobile SDK for Android
              </span>
              <span class="md-header-nav__topic">
                5.x to 6.0
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-verifyOtp" data-md-component="verifyOtp">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../index.html" title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../getting-started/getting-started/index.html" title="Getting started" class="md-tabs__link">
          Getting started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../migrating-3-4/index.html" title="API Changes" class="md-tabs__link md-tabs__link--active">
          API Changes
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../errors/sdk-errors/index.html" title="Error codes" class="md-tabs__link">
          Error codes
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../samples/remote-session/index.html" title="Samples" class="md-tabs__link">
          Samples
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../seos-access-api-samples/read-adf-metadata/index.html" title="Seos Access API samples" class="md-tabs__link">
          Seos Access API samples
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">android</i>
      
    </span>
    Seos Mobile SDK for Android
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/getting-started/index.html" title="Getting started with the SDK" class="md-nav__link">
      Getting started with the SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/logging/index.html" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/proguard/index.html" title="ProGuard" class="md-nav__link">
      ProGuard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/permissions/index.html" title="Removing permissions" class="md-nav__link">
      Removing permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/custom-tsm/index.html" title="Custom TSM" class="md-nav__link">
      Custom TSM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      API Changes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        API Changes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../migrating-3-4/index.html" title="3.x to 4.0" class="md-nav__link">
      3.x to 4.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrating-4-5/index.html" title="4.x to 5.0" class="md-nav__link">
      4.x to 5.0
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        5.x to 6.0
      </label>
    
    <a href="index.html" title="5.x to 6.0" class="md-nav__link md-nav__link--active">
      5.x to 6.0
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definitions-and-abbreviations" title="Definitions and abbreviations" class="md-nav__link">
    Definitions and abbreviations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renamed-classes" title="Renamed classes" class="md-nav__link">
    Renamed classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renamed-fields-and-types" title="Renamed fields and types" class="md-nav__link">
    Renamed fields and types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-changes" title="General changes" class="md-nav__link">
    General changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-system" title="Build system" class="md-nav__link">
    Build system
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#device-eligibility" title="Device Eligibility" class="md-nav__link">
    Device Eligibility
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-codes" title="Error codes" class="md-nav__link">
    Error codes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ble" title="BLe" class="md-nav__link">
    BLe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controlling-ble-scanning" title="Controlling BLe scanning" class="md-nav__link">
    Controlling BLe scanning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openingtriggers" title="OpeningTriggers" class="md-nav__link">
    OpeningTriggers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hce" title="HCE" class="md-nav__link">
    HCE
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-the-hce-service" title="Configure the HCE service" class="md-nav__link">
    Configure the HCE service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks_1" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#put-and-get-data" title="Put and get data" class="md-nav__link">
    Put and get data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-the-seos-access-api" title="Accessing the Seos Access API" class="md-nav__link">
    Accessing the Seos Access API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-data-command" title="Put data command" class="md-nav__link">
    Put data command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-data-command" title="Get data command" class="md-nav__link">
    Get data command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-authentication-info" title="Get authentication info" class="md-nav__link">
    Get authentication info
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrating-6_6-6_7/index.html" title="6.6.x to 6.7.0" class="md-nav__link">
      6.6.x to 6.7.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrating-6_7-7_0/index.html" title="6.7+ to 7.0" class="md-nav__link">
      6.7+ to 7.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Error codes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Error codes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../errors/sdk-errors/index.html" title="SDK errors" class="md-nav__link">
      SDK errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../errors/status-words/index.html" title="Seos status words" class="md-nav__link">
      Seos status words
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../errors/gatt-errors/index.html" title="GATT errors" class="md-nav__link">
      GATT errors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Samples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Samples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../samples/remote-session/index.html" title="Remote session" class="md-nav__link">
      Remote session
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Seos Access API samples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Seos Access API samples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../seos-access-api-samples/read-adf-metadata/index.html" title="Read ADF metadata" class="md-nav__link">
      Read ADF metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seos-access-api-samples/read-write-tags-on-adf/index.html" title="Read/Write tag on ADF" class="md-nav__link">
      Read/Write tag on ADF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seos-access-api-samples/accessing-remote-seos/index.html" title="Accessing a Seos over HTTP" class="md-nav__link">
      Accessing a Seos over HTTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seos-access-api-samples/credential-for-test/index.html" title="Credential for test" class="md-nav__link">
      Credential for test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seos-access-api-samples/ake-session-setup/index.html" title="AKE session setup" class="md-nav__link">
      AKE session setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definitions-and-abbreviations" title="Definitions and abbreviations" class="md-nav__link">
    Definitions and abbreviations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renamed-classes" title="Renamed classes" class="md-nav__link">
    Renamed classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renamed-fields-and-types" title="Renamed fields and types" class="md-nav__link">
    Renamed fields and types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-changes" title="General changes" class="md-nav__link">
    General changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-system" title="Build system" class="md-nav__link">
    Build system
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#device-eligibility" title="Device Eligibility" class="md-nav__link">
    Device Eligibility
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-codes" title="Error codes" class="md-nav__link">
    Error codes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ble" title="BLe" class="md-nav__link">
    BLe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controlling-ble-scanning" title="Controlling BLe scanning" class="md-nav__link">
    Controlling BLe scanning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openingtriggers" title="OpeningTriggers" class="md-nav__link">
    OpeningTriggers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hce" title="HCE" class="md-nav__link">
    HCE
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-the-hce-service" title="Configure the HCE service" class="md-nav__link">
    Configure the HCE service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks_1" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#put-and-get-data" title="Put and get data" class="md-nav__link">
    Put and get data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-the-seos-access-api" title="Accessing the Seos Access API" class="md-nav__link">
    Accessing the Seos Access API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-data-command" title="Put data command" class="md-nav__link">
    Put data command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-data-command" title="Get data command" class="md-nav__link">
    Get data command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-authentication-info" title="Get authentication info" class="md-nav__link">
    Get authentication info
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>5.x to 6.0</h1>
                
                <h2 id="introduction">Introduction</h2>
<p>This migration guide aims to ease the process of migrating from the ASSA ABLOY Mobile Keys SDK version 5.x to version 6.0. Much has been done to improve the ASSA ABLOY Mobile Keys SDK integration experience for new integrators. For an integrator already using the SDK this will likely mean removing code and making some minor adoptions.</p>
<h3 id="definitions-and-abbreviations">Definitions and abbreviations</h3>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>The integrating application</td>
<td>The Android Application using the ASSA ABLOY Mobile Services Android SDK.</td>
</tr>
<tr>
<td><code>//…</code></td>
<td>The double slash three dots in code samples indicates that code has been intentionally left out for clarity.</td>
</tr>
</tbody>
</table>
<h3 id="renamed-classes">Renamed classes</h3>
<table>
<thead>
<tr>
<th>Version 5.x</th>
<th>Version 6.0</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>com.assaabloy.mobilekeys.api.SoftAndroidMobileKeysFactory</code></td>
<td><code>com.assaabloy.mobilekeys.api.MobileKeysApi</code></td>
</tr>
<tr>
<td><code>com.assaabloy.mobilekeys.api.ble.BleOpeningTrigger</code></td>
<td><code>com.assaabloy.mobilekeys.api.ble.OpeningTrigger</code></td>
</tr>
<tr>
<td><code>com.assaabloy.mobilekeys.api.ble.OpeningResult</code> <em>(OpeningResult now represents the entire opening, see JavaDoc)</em></td>
<td><code>com.assaabloy.mobilekeys.api.ble.OpeningTriggerAction</code></td>
</tr>
<tr>
<td><code>com.assaabloy.mobilekeys.api.ApiConfiguration.ApiConfigurationBuilder</code></td>
<td><code>com.assaabloy.mobilekeys.api.ApiConfiguration.Builder</code></td>
</tr>
<tr>
<td><code>com.assaabloy.mobilekeys.api.MobileKeysErrorCode</code></td>
<td><code>com.assaabloy.mobilekeys.api.MobileKeysApiErrorCode</code></td>
</tr>
</tbody>
</table>
<h3 id="renamed-fields-and-types">Renamed fields and types</h3>
<table>
<thead>
<tr>
<th>Version 5.x</th>
<th>Version 6.0</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>com.assaabloy.mobilekeys.api.ble.OpeningStatus#MOBILE_KEY_NOT_FOUND</code></td>
<td><code>com.assaabloy.mobilekeys.api.ble.OpeningStatus#REJECTED</code></td>
</tr>
</tbody>
</table>
<h2 id="general-changes">General changes</h2>
<h3 id="build-system">Build system</h3>
<p>The SDK is no longer packaged as two separate JAR files but is now packaged as a single Android Archive (AAR). The SDK still has two flavors, one for Release and one Debug.
In your build.gradle file: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">repositories</span> <span class="o">{</span>
   <span class="c1">//…</span>
      <span class="n">flatDir</span> <span class="o">{</span>
        <span class="n">dirs</span> <span class="s1">&#39;libs&#39;</span>
      <span class="o">}</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
  <span class="c1">//…</span>
  <span class="c1">//aar file from libs dir. Name and version is from the filename.</span>
  <span class="n">debugCompile</span> <span class="o">(</span><span class="nl">group:</span><span class="s1">&#39;com.assaabloy.mobilekeys.api&#39;</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">&#39;mobilekeys-android-sdk-debug&#39;</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">&#39;6.0&#39;</span><span class="o">,</span> <span class="nl">ext:</span> <span class="s1">&#39;aar&#39;</span><span class="o">)</span>
  <span class="n">releaseCompile</span> <span class="o">(</span><span class="nl">group:</span><span class="s1">&#39;com.assaabloy.mobilekeys.api&#39;</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">&#39;mobilekeys-android-sdk-release&#39;</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">&#39;6.0&#39;</span><span class="o">,</span> <span class="nl">ext:</span><span class="s1">&#39;aar&#39;</span><span class="o">)</span>

  <span class="c1">// Mobile Keys SDK transitive dependencies</span>
  <span class="n">compile</span> <span class="s2">&quot;com.google.code.gson:gson:2.4&quot;</span>
  <span class="n">compile</span> <span class="s2">&quot;org.slf4j:slf4j-api:1.7.21&quot;</span>
  <span class="n">compile</span> <span class="s1">&#39;com.mixpanel.android:mixpanel-android:4.8.6@aar&#39;</span>

  <span class="c1">//Enable logging from Mobile Keys SDK</span>
  <span class="n">debugCompile</span> <span class="o">(</span><span class="nl">group:</span><span class="s1">&#39;com.assaabloy.mobilekeys.api&#39;</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">&#39;android-slf4j&#39;</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">&#39;6.0&#39;</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>The AAR package embeds an <code>AndroidManifest.xml</code> file which contains some basic configuration such as the permissions and the Service declarations. This will automatically be merged into the integrating application's <code>AndroidManifest.xml</code> when building.
6.2 MobileKeys
The main entry point for the SDK was previously <code>SoftAndroidMobileKeysFactory</code>. This class has now been renamed to MobileKeysApi. During the initialization process of the <code>MobileKeysApi</code>, aside from an Android Context and a <code>ApiConfiguration</code>, the initialize method now also takes a <code>ScanConfiguration</code>.
The <code>ApiConfiguration</code> no longer have a <code>setUseHce</code> method. This configuration has been moved into another class. More on that in the HCE Section
 
The interface towards mobile keys have changed slightly. The operations towards the interface should now throw significantly less <code>MobileKeysException</code>s with <code>SDK_BUSY</code> errors when using the synchronous methods <code>listMobileKeys</code> and <code>getEndpointInfo</code>. 
The wrapping layers of Seos have been removed, i.e. <code>SeosSession</code> and <code>MobileKeysSession</code>, instead the implementing application can obtain and use a Seos Access API session directly. With this change we also removed the password API. For more advanced use cases we now refer to the Seos and Seos Access API documentation.
It is now possible to subscribe to changes in the MobileKeys interface using the <code>addListener(MobileKeysListener)</code> method.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="c1">//...</span>
    <span class="n">MobileKeys</span> <span class="n">mobileKeys</span> <span class="o">=</span> <span class="n">MobileKeysApi</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getMobileKeys</span><span class="o">();</span>
    <span class="n">mobileKeys</span><span class="o">.</span><span class="na">addListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMobileKeysChanged</span><span class="o">(</span><span class="kt">int</span> <span class="n">change</span><span class="o">)</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">MobileKeysListener</span><span class="o">.</span><span class="na">ENDPOINT_INFO</span> <span class="o">==</span> <span class="o">(</span><span class="n">change</span> <span class="o">&amp;</span> <span class="n">MobileKeysListener</span><span class="o">.</span><span class="na">ENDPOINT_INFO</span><span class="o">))</span>
    <span class="o">{</span>
        <span class="c1">//The EndpointInfo has changed</span>
        <span class="c1">//...</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">MobileKeysListener</span><span class="o">.</span><span class="na">KEYS_CHANGED</span> <span class="o">==</span> <span class="o">(</span><span class="n">change</span> <span class="o">&amp;</span> <span class="n">MobileKeysListener</span><span class="o">.</span><span class="na">KEYS_CHANGED</span><span class="o">))</span>
    <span class="o">{</span>
        <span class="c1">//The list of Mobile Keys has changed</span>
        <span class="c1">//...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h2 id="device-eligibility">Device Eligibility</h2>
<p>The eligibility checking feature has been moved into the <code>MobileKeysApi</code> class for visibility.</p>
<h3 id="error-codes">Error codes</h3>
<p>The number of error codes included in the <code>MobileKeysException</code>'s has been greatly reduced and now has more clear meaning. Please refer to the Javadoc for <code>MobileKeysApiError</code> code for the description of each error code and the respective recommended action.</p>
<h2 id="ble">BLe</h2>
<p>A big improvement in the new SDK is that the BLe service is bundled in to the SDK. The integrating application should no longer extend the BleScanService class. Don't worry though, the integrating application still have the control over starting and stopping the service and if the SDK should interact with readers or not. Please remove your current BLe service and start using the bundled version instead.</p>
<h3 id="controlling-ble-scanning">Controlling BLe scanning</h3>
<p>The functionality of the <code>BleScanService</code> is maintained but all of the Android specific code is now inside the SDK and exposed as a separate and condensed interface: <code>ReaderConnectionController</code>. Get an instance of the <code>ReaderConnectionController</code> from the <code>MobileKeysApi</code> class.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">ReaderConnectionController</span> <span class="n">readerConnectionController</span> <span class="o">=</span> <span class="n">MobileKeysApi</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getReaderConnectionController</span><span class="o">();</span>
    <span class="n">readerConnectionController</span><span class="o">.</span><span class="na">startScanning</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<p>With the <code>ReaderConnectionController</code> you can start and stop scanning for BLe readers which in turn enables and disables the BLe service. Additionally, you can start scanning with the service as a foreground service with the <code>startForegroundScanning(Notification)</code> method.</p>
<p>The method <code>getScanConfiguration</code> gives you an instance of the current <code>ScanConfiguration</code>. Changing the properties of the <code>ScanConfiguration</code> using the setter methods will be applied directly to the scanning, some of which will automatically restart the current scanning. Please refer to the Javadoc of the <code>ScanConfiguration</code> regarding this. The <code>ScanConfiguration</code> class now has a builder method for convenience.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">ReaderConnectionController</span> <span class="n">readerConnectionController</span> <span class="o">=</span> <span class="n">MobileKeysApi</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getReaderConnectionController</span><span class="o">();</span>
    <span class="n">readerConnectionController</span><span class="o">.</span><span class="na">getScanConfiguration</span><span class="o">().</span><span class="na">setRssiSensitivity</span><span class="o">(</span><span class="n">RssiSensitivity</span><span class="o">.</span><span class="na">LOW</span><span class="o">);</span>
    <span class="c1">//the SDK is now scanning with RSSI sensitivity LOW </span>
</pre></div>
</td></tr></table>

<h3 id="callbacks">Callbacks</h3>
<p>Callbacks from the SDK about reader sessions over BLe is now moved into the <code>ReaderConnectionCallback</code>. The <code>ReaderConnectionCallback</code> class can only have one listener, but there is no restriction on how many <code>ReaderConnectionCallback</code> instances that can be created. </p>
<p>The callback interface has changed so that a closed connection now reports back an opening verifyOtp object containing the opening status and additional payload. The payload is an optional application specific message that was returned from the lock.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>     <span class="c1">//...</span>
       <span class="n">ReaderConnectionCallback</span> <span class="n">readerConnectionCallback</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ReaderConnectionCallback</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
       <span class="n">readerConnectionCallback</span><span class="o">.</span><span class="na">registerReceiver</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReaderConnectionOpened</span><span class="o">(</span><span class="n">Reader</span> <span class="n">reader</span><span class="o">,</span> <span class="n">OpeningType</span> <span class="n">openingType</span><span class="o">)</span>
    <span class="o">{</span>
       <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;onReaderConnectionOpened&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="nd">@Override</span> 
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReaderConnectionClosed</span><span class="o">(</span><span class="n">Reader</span> <span class="n">reader</span><span class="o">,</span> <span class="n">OpeningResult</span> <span class="n">openingResult</span><span class="o">)</span>
    <span class="o">{</span>
       <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;onReaderConnectionClosed&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="c1">//The rest of the ReaderConnectionListener interface</span>
</pre></div>
</td></tr></table>

<h3 id="openingtriggers">OpeningTriggers</h3>
<p>The behavior of the OpeningTrigger classes has changed slightly. They now have lifecycle methods that better reflect the current state of the BLe scanning. The abstract class ManualOpeningTrigger now also have the helper method getClosestReaderByOpeningType(OpeningType). Each trigger implementation now has the ability to interact with the BleScanner interface through the getBleScanner method to open readers, list readers as well as send callbacks to the registered ReaderConnectionListeners. Be careful though, this object will be null when the service is not running, use the isCreated method to check this. There is also a similar method to check if the SDK is scanning for readers, isStarted.
The lifecycle methods are</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>onCreate - The service was created. It is safe to call getBleScanner.
onDestroy - The service was destroyed. It is no longer safe to call getBleScanner as it will return null.

onStart - When the scanning is started.
onStop - When the scanning is stopped.
</pre></div>
</td></tr></table>

<p>The scanning will be started immediately when the service starts and if the Bluetooth is turned on. Additionally, the scanning will be started and stopped during reader sessions and when some properties of the ScanConfiguration changes.  </p>
<h2 id="hce">HCE</h2>
<p>The HCE service is now bundled in to the SDK and the integrating application should not extend the HceService.</p>
<h3 id="configure-the-hce-service">Configure the HCE service</h3>
<p>The service is disabled by default but can be enabled and disabled using the ReaderConnectionController. This replaces the ApiConfiguration.setUseHce functionality.</p>
<p>In order to use the HCE service the integrating application need to specify an AID to be used when communicating with readers through HCE. This is achieved by the resource merging mechanism of the android build process. If you browse the Mobile Keys SDK AAR package by looking in the <code>/build/intermediates/exploded-aar/com.assaabloy.mobilekeys.api/</code> folder in Android Studio, you will notice a file called <code>seos_hce_service.xml</code> in the <code>/res/xml/</code> directory. Override this file by creating an equal one in the integrating applications <code>/res/xml/</code> directory (you can copy the file from the SDK). Replace the value in the name attribute of the <code>&lt;aid-filter&gt;</code> tag with an AID provided by your onboarding team.</p>
<h3 id="callbacks_1">Callbacks</h3>
<p>Callbacks from the SDK about reader sessions over HCE is now moved into the <code>HceConnectionCallback</code>. The method signatures for the new <code>HceConnectionListener</code> are the same as the ones in the now replaced <code>HceService class</code>. The <code>HceConnectionCallback</code> class can only have one listener, but there is no restriction on how many <code>HceConnectionCallback</code> instances that are created.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//...</span>
   <span class="n">HceConnectionCallback</span> <span class="n">hceConnectionCallback</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HceConnectionCallback</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
   <span class="n">hceConnectionCallback</span><span class="o">.</span><span class="na">registerReceiver</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onHceSessionOpened</span><span class="o">()</span>
<span class="o">{</span>
    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;onSessionOpened&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">//The rest of the HceConnectionListener interface </span>
</pre></div>
</td></tr></table>

<h2 id="put-and-get-data">Put and get data</h2>
<p>The Put and get data API have been removed from Mobile Keys SDK but the functionality remains. The API responsible for this now resides in Seos Access API.</p>
<h3 id="accessing-the-seos-access-api">Accessing the Seos Access API</h3>
<p>In order to perform the put and get data you need to open a Seos session. Opening a session is made through the Mobile Keys SDK. Note that you might have to have a different set of session parameters in order to establish your session.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//...</span>
<span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">try</span> 
<span class="o">{</span>
    <span class="n">SessionParameters</span> <span class="n">openParameters</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SessionParameters</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
                       <span class="o">.</span><span class="na">setSelection</span><span class="o">(</span><span class="n">Select</span><span class="o">.</span><span class="na">extendedSelectAdf</span><span class="o">(</span><span class="n">oidFromIdentifier</span><span class="o">(</span><span class="n">identifier</span><span class="o">))</span>
                       <span class="o">.</span><span class="na">setPrivacyKeyset</span><span class="o">(</span><span class="k">new</span> <span class="n">GenesisPrivacyKeyset</span><span class="o">())</span>
                       <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">mobileKeys</span><span class="o">.</span><span class="na">openSeosAccessApiSession</span><span class="o">(</span><span class="n">openParameters</span><span class="o">);</span>
    <span class="c1">// Use session to put and/or get data</span>
<span class="o">}</span>
<span class="k">finally</span>  <span class="c1">// make sure to close the session when you are done</span>
<span class="o">{</span>
    <span class="k">if</span><span class="o">(</span><span class="n">session</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> 
    <span class="o">{</span>
        <span class="n">session</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h3 id="put-data-command">Put data command</h3>
<p>To put data you need to obtain a Seos session, you may for instance use the one described previously. Then create and run a put command. Note that you might have different requirements that prevents you from using the session described in Accessing the Seos Access API. The generic data object put command is described below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="c1">//...</span>
    <span class="n">Command</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span> <span class="n">putCommand</span> <span class="o">=</span> <span class="n">Commands</span><span class="o">.</span><span class="na">putSeosObject</span><span class="o">(</span><span class="k">new</span> <span class="n">DataObject</span><span class="o">(</span><span class="k">new</span> <span class="n">SeosTag</span><span class="o">(</span><span class="cm">/*TAG ID*/</span><span class="o">),</span> <span class="n">data</span><span class="o">));</span>
    <span class="n">CommandResult</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span> <span class="n">verifyOtp</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">putCommand</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">verifyOtp</span><span class="o">.</span><span class="na">status</span><span class="o">()</span> <span class="o">==</span> <span class="n">CommandResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">)</span>
    <span class="o">{</span>
     <span class="c1">// Success</span>
    <span class="o">}</span>
    <span class="k">else</span> 
    <span class="o">{</span>
     <span class="c1">// Failure</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table>

<h3 id="get-data-command">Get data command</h3>
<p>To get data you need to obtain a Seos session, you may for instance use the one described previously. Then create and run a get data command. Note that you might have different requirements that prevents you from using the session described in Accessing the Seos Access API. The generic data object get command is described below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="c1">//...</span>
    <span class="n">Command</span><span class="o">&lt;</span><span class="n">DataObject</span><span class="o">&gt;</span> <span class="n">readDataCommand</span> <span class="o">=</span> 
            <span class="n">getSeosObject</span><span class="o">(</span><span class="n">dataObject</span><span class="o">(</span><span class="cm">/*depending on what object you want*/</span><span class="o">));</span>
    <span class="n">CommandResult</span><span class="o">&lt;</span><span class="n">DataObject</span><span class="o">&gt;</span> <span class="n">verifyOtp</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">readDataCommand</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">verifyOtp</span><span class="o">.</span><span class="na">status</span><span class="o">()</span> <span class="o">==</span> <span class="n">CommandResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="c1">// Success</span>
        <span class="n">DataObject</span> <span class="n">dataObject</span> <span class="o">=</span> <span class="n">verifyOtp</span><span class="o">.</span><span class="na">responseData</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">else</span> 
    <span class="o">{</span>
        <span class="c1">// Failure</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table>

<h3 id="get-authentication-info">Get authentication info</h3>
<p>Authentication info contains the oid last used to authenticate and the authentication counter. In order to get the information, you need to obtain a Seos session and then create and run the specific 'last authentication info' command. </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">//...</span>
<span class="n">Command</span><span class="o">&lt;</span><span class="n">AuthenticationInfo</span><span class="o">&gt;</span> <span class="n">getDataCommand</span> <span class="o">=</span>           
        <span class="n">Commands</span><span class="o">.</span><span class="na">getSeosObject</span><span class="o">(</span><span class="n">SeosObjects</span><span class="o">.</span><span class="na">LAST_AUTHENTICATION_INFO</span><span class="o">);</span>
<span class="n">CommandResult</span><span class="o">&lt;</span><span class="n">AuthenticationInfo</span><span class="o">&gt;</span> <span class="n">verifyOtp</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">getDataCommand</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">verifyOtp</span><span class="o">.</span><span class="na">status</span><span class="o">()</span> <span class="o">==</span> <span class="n">CommandResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">)</span>
<span class="o">{</span>
    <span class="c1">// Success</span>
    <span class="n">Oid</span> <span class="n">oid</span> <span class="o">=</span> <span class="n">getDataResult</span><span class="o">.</span><span class="na">responseData</span><span class="o">().</span><span class="na">lastAuthenticatedOid</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">getDataResults</span><span class="o">.</span><span class="na">responseData</span><span class="o">().</span><span class="na">authenticationCounter</span><span class="o">()</span>
<span class="o">}</span>
<span class="k">else</span> 
<span class="o">{</span>
    <span class="c1">// Failure</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../migrating-4-5/index.html" title="4.x to 5.0" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                4.x to 5.0
              </span>
            </div>
          </a>
        
        
          <a href="../migrating-6_6-6_7/index.html" title="6.6.x to 6.7.0" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                6.6.x to 6.7.0
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://www.assaabloy.com/en/com/solutions/technology-platforms/seos/" class="md-footer-social__link fa fa-website"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>